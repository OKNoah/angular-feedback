(function(){angular.module("$feedback.directives",[]).directive("feedbackWidget",["$http",function(a){return{restrict:"E",scope:{url:"@",thanksText:"@"},link:function(b,c){return b.feedback={},b.viewMode="sm",c.find("button.btn-feedback-submit").bind("click",function(){return a.post(b.url,{feedback:b.feedback}),b.$apply(function(){return b.feedback.comment="",(void 0===b.thanksText||0===b.thanksText.length)&&(b.thanksText="Thanks for your feedback!"),b.thanksMsg=!0,b.viewMode="sm"})}),b.$watch("viewMode",function(a){return"lg"===a?c.find("textarea.txt-feedback-comment").focus():void 0})},template:"    <div ng-show='viewMode==\"lg\"' class='form-group'>      <label class='lbl-feedback-comment' for='feedbackComment'>Comment:</label>      <textarea class='form-control txt-feedback-comment' ng-model='feedback.comment' id='feedbackComment'/>      <button class='btn-feedback-submit btn btn-sm btn-primary' ng-disabled='!feedback.comment.length>0'>Submit</button>      <button class='btn-feedback-cancel btn btn-sm' ng-click='viewMode=\"sm\"'>Cancel</button>    </div>    <div class='div-feedback-toggle-off text-right'>      <div class='div-feedback-thanks-text' ng-show='thanksMsg==true'>{{thanksText}}</div>      <button ng-click='viewMode=\"lg\";thanksMsg=false' ng-show='viewMode==\"sm\"' class='btn btn-sm btn-feedback-toggle'>Feedback</button>    </div>"}}])}).call(this);